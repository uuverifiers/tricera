/* requires n > 0 && \valid(t+(0..n-1));
 ensures \result == \max(0,n-1,(\lambda integer k ; t[k]));
*/

void main()  {
    int t[_];
    int n;
    assume(n > 0);

    int i = 0;
    int m;
    int v;
    do {
        v = t[i++];
        m = v > m ? v : m;
    /* invariant m == \max(0,i-1,(\lambda integer k ; t[k])); */
     } while (i < n);

     assert(m == \max(t,0,n));
     //return m;
}